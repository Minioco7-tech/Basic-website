<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIviary — Model Details</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .model-header {
            background: rgba(0,0,0,0.25);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
        }
        .btn-gradient {
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: all 0.3s ease;
        }
        .btn-gradient:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="text-white">

<!-- Header -->
<nav class="bg-black bg-opacity-20 backdrop-blur-lg border-b border-white border-opacity-10 sticky top-0 z-50 p-4 flex justify-between items-center">
    <div class="text-xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">AIviary</div>
    <button id="backHome" class="px-4 py-2 rounded-full border border-white border-opacity-30 hover:bg-white hover:bg-opacity-10 transition">Back to Home</button>
</nav>

<!-- Main content -->
<main class="max-w-4xl mx-auto p-6 mt-8">
    <div id="modelContainer" class="model-header p-6">
        <h1 id="modelName" class="text-3xl font-bold mb-4"></h1>
        <div id="modelImage" class="w-full h-64 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg mb-4 flex items-center justify-center">
            <i data-feather="cpu" class="w-16 h-16 text-white opacity-50"></i>
        </div>
        <p id="modelDescription" class="mb-4 text-gray-300"></p>
        <p><strong>Category:</strong> <span id="modelCategory" class="text-purple-300"></span></p>
        <p><strong>Type:</strong> <span id="modelType" class="text-blue-300"></span></p>
        <button id="tryModel" class="btn-gradient text-white font-semibold py-3 px-6 rounded-lg mt-6 w-full">Try Now</button>
    </div>
</main>

<script>
    const modelContainer = document.getElementById('modelContainer');
    const modelName = document.getElementById('modelName');
    const modelDescription = document.getElementById('modelDescription');
    const modelCategory = document.getElementById('modelCategory');
    const modelType = document.getElementById('modelType');
    const modelImage = document.getElementById('modelImage');
    const tryModel = document.getElementById('tryModel');
    const backHome = document.getElementById('backHome');
    // Helper to get ID from URL
    function getModelIdFromUrl() {
        const params = new URLSearchParams(window.location.search);
        return params.get('id');
    }
    // Category display names
    function getCategoryName(cat) {
        const map = {
            writing: 'Writing',
            creativity: 'Creative',
            learning: 'Learning',
            business: 'Business',
            chatbots: 'Chat',
            audio: 'Audio',
            coding: 'Coding',
            science: 'Science',
            finance: 'Finance',
            everyday: 'Everyday'
        };
        return map[cat] || cat;
    }
    // Load model data from JSON
    async function loadModel() {
    try {
        const response = await fetch('./models.json');
        if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);

        const models = await response.json();
        const modelId = getModelIdFromUrl();
        const model = models.find(m => m.id.toString() === modelId);

        if (!model) {
            modelContainer.innerHTML = `
                <p class="text-red-400 text-lg">
                    Could not find this model. Please return to the home page.
                </p>
            `;
            return;
        }

        modelName.textContent = model.name;
        modelDescription.textContent = model.description;
        modelCategory.textContent = getCategoryName(model.category);
        modelType.textContent = model.type;

        if (model.image) {
            modelImage.style.backgroundImage = `url('${model.image}')`;
            modelImage.classList.add('bg-cover', 'bg-center');
        }

        tryModel.onclick = () => window.open(model.link, '_blank');

    } catch (err) {
        console.error('❌ Failed to load model:', err);
        modelContainer.innerHTML = `
            <p class="text-red-400 text-lg">
                Failed to load model data. Please refresh or go back to the home page.
            </p>
        `;
    }
}
    // Back to home
    backHome.addEventListener('click', () => {
        window.location.href = 'index.html';
    });
    document.addEventListener('DOMContentLoaded', () => {
        loadModel();
        feather.replace();
    });
</script>

</body>
</html>
